(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{702:function(s,t,a){"use strict";a.r(t);var e=a(8),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[s._v("#")]),s._v(" 目录")]),s._v(" "),a("ol",[a("li",[s._v("前言")]),s._v(" "),a("li",[s._v("分支管理规范")]),s._v(" "),a("li",[s._v("提交信息规范")]),s._v(" "),a("li",[s._v("团队协作流程")]),s._v(" "),a("li",[s._v("代码合并与版本管理")]),s._v(" "),a("li",[s._v("冲突处理规范")]),s._v(" "),a("li",[s._v("工具与自动化配置")]),s._v(" "),a("li",[s._v("常见问题与解决方案")]),s._v(" "),a("li",[s._v("附则")])]),s._v(" "),a("h2",{attrs:{id:"_1-前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-前言"}},[s._v("#")]),s._v(" 1. 前言")]),s._v(" "),a("p",[s._v("Git 作为分布式版本控制系统，其高效性依赖于团队统一的操作规范。本规范基于行业最佳实践（如 Git Flow、Conventional Commits），结合团队协作场景优化，旨在解决以下问题：")]),s._v(" "),a("ul",[a("li",[s._v("分支混乱导致的版本追溯困难")]),s._v(" "),a("li",[s._v("提交信息模糊引发的历史理解成本高")]),s._v(" "),a("li",[s._v("协作中冲突频发、代码覆盖风险")]),s._v(" "),a("li",[s._v("发布流程不规范导致的生产环境稳定性问题")])]),s._v(" "),a("p",[a("strong",[s._v("执行原则")]),s._v("：规范不是约束，而是协作共识，需团队全员遵守并定期迭代优化。")]),s._v(" "),a("h2",{attrs:{id:"_2-分支管理规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-分支管理规范"}},[s._v("#")]),s._v(" 2. 分支管理规范")]),s._v(" "),a("p",[s._v("采用 "),a("strong",[s._v("“主分支 + 支持分支”")]),s._v(" 的分层模型，明确各分支的职责、生命周期及命名规则，避免分支冗余。")]),s._v(" "),a("h3",{attrs:{id:"_2-1-分支类型与定义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-分支类型与定义"}},[s._v("#")]),s._v(" 2.1 分支类型与定义")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("分支类型")]),s._v(" "),a("th",[s._v("命名规则")]),s._v(" "),a("th",[s._v("来源分支")]),s._v(" "),a("th",[s._v("合并目标分支")]),s._v(" "),a("th",[s._v("生命周期")]),s._v(" "),a("th",[s._v("核心职责")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("主分支")]),s._v(" "),a("td",[a("code",[s._v("main")])]),s._v(" "),a("td",[s._v("项目初始化")]),s._v(" "),a("td",[s._v("仅接收 "),a("code",[s._v("hotfix")]),s._v("/"),a("code",[s._v("release")])]),s._v(" "),a("td",[s._v("永久存在")]),s._v(" "),a("td",[s._v("存放生产环境代码，始终保持可部署状态")])]),s._v(" "),a("tr",[a("td",[s._v("开发主分支")]),s._v(" "),a("td",[a("code",[s._v("develop")])]),s._v(" "),a("td",[s._v("从 "),a("code",[s._v("main")]),s._v(" 创建")]),s._v(" "),a("td",[s._v("接收 "),a("code",[s._v("feature")]),s._v("，合并到 "),a("code",[s._v("release")])]),s._v(" "),a("td",[s._v("永久存在")]),s._v(" "),a("td",[s._v("整合功能开发代码，作为下一次发布的基础")])]),s._v(" "),a("tr",[a("td",[s._v("功能分支")]),s._v(" "),a("td",[a("code",[s._v("feature/[需求ID]-[功能描述]")])]),s._v(" "),a("td",[a("code",[s._v("develop")])]),s._v(" "),a("td",[s._v("仅合并到 "),a("code",[s._v("develop")])]),s._v(" "),a("td",[s._v("功能合并后删除")]),s._v(" "),a("td",[s._v("开发新功能或迭代优化，隔离开发过程")])]),s._v(" "),a("tr",[a("td",[s._v("紧急修复分支")]),s._v(" "),a("td",[a("code",[s._v("hotfix/[BUG ID]-[修复描述]")])]),s._v(" "),a("td",[a("code",[s._v("main")])]),s._v(" "),a("td",[s._v("合并到 "),a("code",[s._v("main")]),s._v(" + "),a("code",[s._v("develop")])]),s._v(" "),a("td",[s._v("修复完成后删除")]),s._v(" "),a("td",[s._v("紧急修复生产环境 bug，不影响正常开发流程")])]),s._v(" "),a("tr",[a("td",[s._v("发布分支")]),s._v(" "),a("td",[a("code",[s._v("release/[版本号]")])]),s._v(" "),a("td",[a("code",[s._v("develop")])]),s._v(" "),a("td",[s._v("合并到 "),a("code",[s._v("main")]),s._v(" + "),a("code",[s._v("develop")])]),s._v(" "),a("td",[s._v("发布完成后删除")]),s._v(" "),a("td",[s._v("预发布测试，仅修复测试中发现的 bug，不新增功能")])]),s._v(" "),a("tr",[a("td",[s._v("测试分支（可选）")]),s._v(" "),a("td",[a("code",[s._v("test/[测试场景]-[日期]")])]),s._v(" "),a("td",[s._v("任意开发分支")]),s._v(" "),a("td",[s._v("不合并到主分支")]),s._v(" "),a("td",[s._v("测试完成后删除")]),s._v(" "),a("td",[s._v("临时测试特定场景（如性能测试、兼容性测试）")])])])]),s._v(" "),a("h3",{attrs:{id:"_2-2-命名规范细则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-命名规范细则"}},[s._v("#")]),s._v(" 2.2 命名规范细则")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("需求 ID/BUG ID")]),s._v("：必须关联团队需求管理工具（如 Jira、Teambition）的唯一 ID，便于追溯（例："),a("code",[s._v("REQ-2024001")]),s._v("、"),a("code",[s._v("BUG-2024058")]),s._v("）。")]),s._v(" "),a("li",[a("strong",[s._v("功能描述")]),s._v("：使用小写字母 + 连字符，不超过 5 个单词，清晰表达核心内容（例："),a("code",[s._v("user-login-verify")]),s._v(" 而非 "),a("code",[s._v("login")]),s._v("）。")]),s._v(" "),a("li",[a("strong",[s._v("版本号")]),s._v("：遵循语义化版本（见 5.1 节），格式为 "),a("code",[s._v("vX.Y.Z")]),s._v("（例："),a("code",[s._v("release/v2.3.0")]),s._v("）。")])]),s._v(" "),a("h3",{attrs:{id:"_2-3-分支保护规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-分支保护规则"}},[s._v("#")]),s._v(" 2.3 分支保护规则")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("main")]),s._v(" 和 "),a("code",[s._v("develop")]),s._v(" 分支设置为 "),a("strong",[s._v("保护分支")]),s._v("，禁止直接推送（"),a("code",[s._v("git push")]),s._v("），仅允许通过 PR 合并。")]),s._v(" "),a("li",[s._v("保护分支需启用 "),a("strong",[s._v("强制代码审查")]),s._v("（至少 1 名审查人通过）和 "),a("strong",[s._v("CI 检查通过")]),s._v(" 才能合并。")]),s._v(" "),a("li",[s._v("功能分支、hotfix 分支等临时分支，由创建者负责维护，合并后需及时删除（远程 + 本地）。")])]),s._v(" "),a("h2",{attrs:{id:"_3-提交信息规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-提交信息规范"}},[s._v("#")]),s._v(" 3. 提交信息规范")]),s._v(" "),a("p",[s._v("提交信息是代码历史的 “说明书”，需遵循 "),a("strong",[s._v("Conventional Commits 规范")]),s._v("，确保结构化、可追溯，支持自动化工具生成 CHANGELOG。")]),s._v(" "),a("h3",{attrs:{id:"_3-1-提交格式模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-提交格式模板"}},[s._v("#")]),s._v(" 3.1 提交格式模板")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("类型"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("可选作用域"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("简短描述"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("可选详细描述"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("可选脚注"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"_3-2-各部分说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-各部分说明"}},[s._v("#")]),s._v(" 3.2 各部分说明")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("组成部分")]),s._v(" "),a("th",[s._v("要求与说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[s._v("类型")]),s._v("（必填）")]),s._v(" "),a("td",[s._v("描述提交的性质，取值范围："),a("br"),s._v("- "),a("code",[s._v("feat")]),s._v("：新功能（影响次版本号）"),a("br"),s._v("- "),a("code",[s._v("fix")]),s._v("：修复 bug（影响修订号）"),a("br"),s._v("- "),a("code",[s._v("docs")]),s._v("：仅文档修改（如 README）"),a("br"),s._v("- "),a("code",[s._v("style")]),s._v("：代码格式调整（不影响逻辑，如缩进、空格）"),a("br"),s._v("- "),a("code",[s._v("refactor")]),s._v("：代码重构（既非新功能也非修复）"),a("br"),s._v("- "),a("code",[s._v("test")]),s._v("：新增 / 修改测试代码"),a("br"),s._v("- "),a("code",[s._v("chore")]),s._v("：构建流程、工具配置等修改（不影响业务代码）")])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("作用域")]),s._v("（可选）")]),s._v(" "),a("td",[s._v("标注修改涉及的模块 / 组件（如 "),a("code",[s._v("auth")]),s._v("、"),a("code",[s._v("order-api")]),s._v("、"),a("code",[s._v("pay-service")]),s._v("），增强定位精度。")])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("简短描述")]),s._v("（必填）")]),s._v(" "),a("td",[s._v("50 字以内，简洁说明 “做了什么”，首字母小写，不使用句号结尾（例：“新增短信验证码校验”）。")])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("详细描述")]),s._v("（可选）")]),s._v(" "),a("td",[s._v("若简短描述不够，补充具体修改点（如 “优化了验证码过期逻辑，从 5 分钟调整为 10 分钟”），换行后开始。")])]),s._v(" "),a("tr",[a("td",[a("strong",[s._v("脚注")]),s._v("（可选）")]),s._v(" "),a("td",[s._v("关联需求 / BUG ID 或关闭 Issue，格式："),a("br"),s._v("- 关联需求："),a("code",[s._v("Relates to REQ-2024001")]),a("br"),s._v("- 关闭 BUG："),a("code",[s._v("Closes BUG-2024058")]),s._v(" "),a("br"),s._v("- 关闭 Issue："),a("code",[s._v("Fixes #123")]),s._v("（GitLab Issue）")])])])]),s._v(" "),a("h3",{attrs:{id:"_3-3-提交示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-提交示例"}},[s._v("#")]),s._v(" 3.3 提交示例")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新功能提交")]),s._v("\nfeat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": 新增短信验证码登录功能\n\n- 开发验证码发送接口（支持60秒重试限制）\n- 完善登录状态校验逻辑（过期自动登出）\nRelates to REQ-2024001\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Bug修复提交")]),s._v("\nfix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": 修复订单超时后状态未同步的问题\n\n解决了支付超时后，订单仍显示"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"待支付"')]),s._v("的问题（原逻辑未监听支付回调超时事件）\nCloses BUG-2024058\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重构提交")]),s._v("\nrefactor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pay"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": 拆分支付服务冗余代码\n\n将支付验签逻辑抽离为独立工具类，减少重复代码约200行\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"_3-4-提交要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-提交要求"}},[s._v("#")]),s._v(" 3.4 提交要求")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("单次提交粒度")]),s._v("：一个提交对应一个独立变更（如 “完成登录按钮 UI”、“修复验证码校验 bug”），避免 “大杂烩” 提交（禁止一次提交包含多个不相关功能）。")]),s._v(" "),a("li",[a("strong",[s._v("提交前检查")]),s._v("：本地执行代码格式化（如"),a("code",[s._v("prettier")]),s._v("）、 lint 检查（如"),a("code",[s._v("eslint")]),s._v("）、单元测试，确保无语法错误和逻辑问题。")]),s._v(" "),a("li",[a("strong",[s._v("禁止提交的内容")]),s._v("：敏感信息（密钥、密码）、编译产物（如"),a("code",[s._v("dist")]),s._v("、"),a("code",[s._v("node_modules")]),s._v("）、IDE 配置（如"),a("code",[s._v(".idea")]),s._v("，需加入"),a("code",[s._v(".gitignore")]),s._v("）。")])]),s._v(" "),a("h2",{attrs:{id:"_4-团队协作流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-团队协作流程"}},[s._v("#")]),s._v(" 4. 团队协作流程")]),s._v(" "),a("h3",{attrs:{id:"_4-1-功能开发流程-标准流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-功能开发流程-标准流程"}},[s._v("#")]),s._v(" 4.1 功能开发流程（标准流程）")]),s._v(" "),a("h4",{attrs:{id:"步骤-1-准备分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-1-准备分支"}},[s._v("#")]),s._v(" 步骤 1：准备分支")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 切换到develop分支，拉取最新代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout develop\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin develop\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 基于最新develop创建功能分支（命名见2.2节）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -b feature/REQ-2024001-user-login\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"步骤-2-本地开发与提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2-本地开发与提交"}},[s._v("#")]),s._v(" 步骤 2：本地开发与提交")]),s._v(" "),a("ul",[a("li",[s._v("按 “小步提交” 原则，完成一个子功能即提交（如 “完成验证码输入框 UI”→“完成验证码发送逻辑”）。")]),s._v(" "),a("li",[s._v("提交信息严格遵循 3.1 节格式。")])]),s._v(" "),a("h4",{attrs:{id:"步骤-3-同步远程代码-每日至少-1-次"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-3-同步远程代码-每日至少-1-次"}},[s._v("#")]),s._v(" 步骤 3：同步远程代码（每日至少 1 次）")]),s._v(" "),a("p",[s._v("为避免分支偏离"),a("code",[s._v("develop")]),s._v("过远导致冲突，需定期同步：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到功能分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout feature/REQ-2024001-user-login\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同步develop最新代码（推荐使用rebase保持线性历史）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch origin develop\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase origin/develop\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 若出现冲突，解决后继续rebase")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase --continue\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 推送更新到远程功能分支（首次推送需关联，后续直接push）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -u origin feature/REQ-2024001-user-login  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 首次")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin feature/REQ-2024001-user-login      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 后续")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h4",{attrs:{id:"步骤-4-发起-pr-pull-request"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-4-发起-pr-pull-request"}},[s._v("#")]),s._v(" 步骤 4：发起 PR（Pull Request）")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("在代码管理平台（GitLab）创建 PR，目标分支为"),a("code",[s._v("develop")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("PR 标题格式："),a("code",[s._v("[feature] 功能名称（需求ID）")]),s._v("（例："),a("code",[s._v("[feature] 用户登录功能（REQ-2024001）")]),s._v("）。")])]),s._v(" "),a("li",[a("p",[s._v("PR 描述模板（必填）：")]),s._v(" "),a("div",{staticClass:"language-markdown line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-markdown"}},[a("code",[a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("##")]),s._v(" 功能说明  ")]),s._v("\n（简要描述实现的功能，关联需求文档链接）  \n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("##")]),s._v(" 测试步骤  ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("1.")]),s._v(" 步骤1（如：访问登录页）  \n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("2.")]),s._v(" 步骤2（如：输入手机号点击发送验证码）  \n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("##")]),s._v(" 变更范围  ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" 修改文件：（列举核心修改文件）  \n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" 新增依赖：（如有）  \n\n"),a("span",{pre:!0,attrs:{class:"token title important"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("##")]),s._v(" 相关链接  ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" 需求地址："),a("span",{pre:!0,attrs:{class:"token url"}},[s._v("["),a("span",{pre:!0,attrs:{class:"token content"}},[s._v("REQ-2024001")]),s._v("]("),a("span",{pre:!0,attrs:{class:"token url"}},[s._v("链接")]),s._v(")")]),s._v("  \n"),a("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("-")]),s._v(" 测试报告：（如有）  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"步骤-5-代码审查与合并"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-5-代码审查与合并"}},[s._v("#")]),s._v(" 步骤 5：代码审查与合并")]),s._v(" "),a("ul",[a("li",[s._v("至少指定 1 名团队成员作为审查人（建议交叉审查，避免自我审查）。")]),s._v(" "),a("li",[s._v("审查重点：\n"),a("ul",[a("li",[s._v("代码逻辑是否符合需求")]),s._v(" "),a("li",[s._v("代码风格是否符合团队规范（命名、注释、格式）")]),s._v(" "),a("li",[s._v("测试用例是否覆盖核心场景")]),s._v(" "),a("li",[s._v("是否引入性能隐患或安全风险")])])]),s._v(" "),a("li",[s._v("审查通过且 CI 检查（编译、测试、lint）通过后，使用 "),a("strong",[s._v("Squash Merge")]),s._v(" 合并（将功能分支的多个提交压缩为 1 个，保持"),a("code",[s._v("develop")]),s._v("历史整洁）。")])]),s._v(" "),a("h4",{attrs:{id:"步骤-6-清理分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-6-清理分支"}},[s._v("#")]),s._v(" 步骤 6：清理分支")]),s._v(" "),a("p",[s._v("合并后删除远程和本地功能分支：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除远程分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin --delete feature/REQ-2024001-user-login\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除本地分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout develop\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin develop  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同步合并后的develop")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch -d feature/REQ-2024001-user-login\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"_4-2-生产环境紧急修复流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-生产环境紧急修复流程"}},[s._v("#")]),s._v(" 4.2 生产环境紧急修复流程")]),s._v(" "),a("p",[s._v("用于修复"),a("code",[s._v("main")]),s._v("分支（生产环境）的紧急 bug，需同时确保修复同步到开发分支。")]),s._v(" "),a("h4",{attrs:{id:"步骤-1-创建-hotfix-分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-1-创建-hotfix-分支"}},[s._v("#")]),s._v(" 步骤 1：创建 hotfix 分支")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从main分支拉取最新代码（生产环境代码）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout main\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin main\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建hotfix分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -b hotfix/BUG-2024058-order-timeout\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"步骤-2-修复与提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2-修复与提交"}},[s._v("#")]),s._v(" 步骤 2：修复与提交")]),s._v(" "),a("ul",[a("li",[s._v("仅提交与 bug 修复相关的代码，禁止新增功能。")]),s._v(" "),a("li",[s._v("提交信息类型为"),a("code",[s._v("fix")]),s._v("，并关联 BUG ID。")])]),s._v(" "),a("h4",{attrs:{id:"步骤-3-发起-pr-并合并"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-3-发起-pr-并合并"}},[s._v("#")]),s._v(" 步骤 3：发起 PR 并合并")]),s._v(" "),a("ul",[a("li",[s._v("同时创建两个 PR：目标分支分别为"),a("code",[s._v("main")]),s._v("（修复生产）和"),a("code",[s._v("develop")]),s._v("（同步到开发）。")]),s._v(" "),a("li",[s._v("PR 标题格式："),a("code",[s._v("[hotfix] 修复描述（BUG ID）")]),s._v("。")]),s._v(" "),a("li",[s._v("合并方式：使用 "),a("strong",[s._v("Create a merge commit")]),s._v("（保留完整修复历史，便于追溯）。")])]),s._v(" "),a("h4",{attrs:{id:"步骤-4-打版本标签并清理分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-4-打版本标签并清理分支"}},[s._v("#")]),s._v(" 步骤 4：打版本标签并清理分支")]),s._v(" "),a("p",[s._v("合并到"),a("code",[s._v("main")]),s._v("后，立即打版本标签（见 5.2 节），并删除 hotfix 分支。")]),s._v(" "),a("h3",{attrs:{id:"_4-3-发布流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-发布流程"}},[s._v("#")]),s._v(" 4.3 发布流程")]),s._v(" "),a("p",[s._v("用于将"),a("code",[s._v("develop")]),s._v("分支的功能发布到生产环境。")]),s._v(" "),a("h4",{attrs:{id:"步骤-1-创建-release-分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-1-创建-release-分支"}},[s._v("#")]),s._v(" 步骤 1：创建 release 分支")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从develop拉取最新代码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout develop\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin develop\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建release分支（版本号见5.1节）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -b release/v2.3.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"步骤-2-预发布准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2-预发布准备"}},[s._v("#")]),s._v(" 步骤 2：预发布准备")]),s._v(" "),a("ul",[a("li",[s._v("仅修复测试中发现的 bug，不新增功能（如需新增功能，需从"),a("code",[s._v("develop")]),s._v("合并或后续迭代）。")]),s._v(" "),a("li",[s._v("更新版本号相关配置（如"),a("code",[s._v("package.json")]),s._v("的 version 字段）。")])]),s._v(" "),a("h4",{attrs:{id:"步骤-3-测试与合并"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-3-测试与合并"}},[s._v("#")]),s._v(" 步骤 3：测试与合并")]),s._v(" "),a("ul",[a("li",[s._v("测试通过后，创建 PR 合并到"),a("code",[s._v("main")]),s._v("和"),a("code",[s._v("develop")]),s._v("。")]),s._v(" "),a("li",[s._v("合并到"),a("code",[s._v("main")]),s._v("后，打版本标签并编写发布说明（见 5.2 节）。")])]),s._v(" "),a("h2",{attrs:{id:"_5-代码合并与版本管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-代码合并与版本管理"}},[s._v("#")]),s._v(" 5. 代码合并与版本管理")]),s._v(" "),a("h3",{attrs:{id:"_5-1-版本号规范-语义化版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-版本号规范-语义化版本"}},[s._v("#")]),s._v(" 5.1 版本号规范（语义化版本）")]),s._v(" "),a("p",[s._v("采用 "),a("code",[s._v("X.Y.Z")]),s._v(" 格式，遵循 "),a("a",{attrs:{href:"https://semver.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Semantic Versioning"),a("OutboundLink")],1),s._v(" 标准：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("X")]),s._v("（主版本号）：不兼容的重大变更（如架构重构、API 不兼容），例："),a("code",[s._v("3.0.0")])]),s._v(" "),a("li",[a("code",[s._v("Y")]),s._v("（次版本号）：向后兼容的新功能，例："),a("code",[s._v("2.4.0")])]),s._v(" "),a("li",[a("code",[s._v("Z")]),s._v("（修订号）：向后兼容的问题修复，例："),a("code",[s._v("2.3.1")])])]),s._v(" "),a("p",[a("strong",[s._v("版本号递增规则")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("新增功能 → 递增 "),a("code",[s._v("Y")]),s._v("（如"),a("code",[s._v("2.3.0")]),s._v("→"),a("code",[s._v("2.4.0")]),s._v("）")]),s._v(" "),a("li",[s._v("修复 bug → 递增 "),a("code",[s._v("Z")]),s._v("（如"),a("code",[s._v("2.3.0")]),s._v("→"),a("code",[s._v("2.3.1")]),s._v("）")]),s._v(" "),a("li",[s._v("重大变更 → 递增 "),a("code",[s._v("X")]),s._v("（如"),a("code",[s._v("2.3.0")]),s._v("→"),a("code",[s._v("3.0.0")]),s._v("）")])]),s._v(" "),a("h3",{attrs:{id:"_5-2-版本标签-tag-管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-版本标签-tag-管理"}},[s._v("#")]),s._v(" 5.2 版本标签（Tag）管理")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("仅在"),a("code",[s._v("main")]),s._v("分支打标签，标签格式为 "),a("code",[s._v("vX.Y.Z")]),s._v("（例："),a("code",[s._v("v2.3.0")]),s._v("）。")])]),s._v(" "),a("li",[a("p",[s._v("打标签时必须添加描述，说明版本核心变更：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建带注释的标签")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" tag -a v2.3.0 -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"v2.3.0：新增用户登录功能，修复订单超时bug"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 推送标签到远程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin v2.3.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("标签创建后禁止删除或修改（如需回滚，创建新标签如"),a("code",[s._v("v2.3.1")]),s._v("）。")])])]),s._v(" "),a("h3",{attrs:{id:"_5-3-合并方式选择"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-合并方式选择"}},[s._v("#")]),s._v(" 5.3 合并方式选择")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("合并场景")]),s._v(" "),a("th",[s._v("推荐合并方式")]),s._v(" "),a("th",[s._v("目的")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("feature → develop")]),s._v(" "),a("td",[s._v("Squash Merge")]),s._v(" "),a("td",[s._v("压缩琐碎提交，保持"),a("code",[s._v("develop")]),s._v("历史清晰")])]),s._v(" "),a("tr",[a("td",[s._v("hotfix → main / develop")]),s._v(" "),a("td",[s._v("Create a merge commit")]),s._v(" "),a("td",[s._v("保留完整修复历史，便于追溯生产问题")])]),s._v(" "),a("tr",[a("td",[s._v("release → main / develop")]),s._v(" "),a("td",[s._v("Create a merge commit")]),s._v(" "),a("td",[s._v("保留发布前的测试调整记录")])])])]),s._v(" "),a("p",[a("strong",[s._v("禁止操作")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("对"),a("code",[s._v("main")]),s._v("/"),a("code",[s._v("develop")]),s._v("分支使用"),a("code",[s._v("git push -f")]),s._v("（强制推送），防止代码丢失。")]),s._v(" "),a("li",[s._v("使用 Fast-forward 合并（会丢失分支历史，无法追溯分支来源）。")])]),s._v(" "),a("h3",{attrs:{id:"_5-4-自动生成-changelog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-自动生成-changelog"}},[s._v("#")]),s._v(" 5.4 自动生成 CHANGELOG")]),s._v(" "),a("p",[s._v("利用提交信息的结构化特征，通过工具自动生成版本变更记录：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("安装工具："),a("code",[s._v("npm install -g standard-version")]),s._v("（适用于 Node 项目，其他语言可选用同类工具）。")])]),s._v(" "),a("li",[a("p",[s._v("在"),a("code",[s._v("main")]),s._v("分支执行（合并 release/hotfix 后）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("standard-version  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自动更新版本号、生成CHANGELOG、创建标签")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push --follow-tags  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 推送版本号和标签")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"_6-冲突处理规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-冲突处理规范"}},[s._v("#")]),s._v(" 6. 冲突处理规范")]),s._v(" "),a("p",[s._v("冲突是协作中的正常现象，需通过规范流程减少冲突风险并高效解决。")]),s._v(" "),a("h3",{attrs:{id:"_6-1-冲突预防"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-冲突预防"}},[s._v("#")]),s._v(" 6.1 冲突预防")]),s._v(" "),a("ul",[a("li",[s._v("小团队分工明确，避免多人同时修改同一文件的同一部分。")]),s._v(" "),a("li",[s._v("每日同步"),a("code",[s._v("develop")]),s._v("代码（见 4.1.3 节），及时发现并解决小冲突，避免堆积。")]),s._v(" "),a("li",[s._v("核心配置文件（如"),a("code",[s._v("config.yaml")]),s._v("）尽量设计为可扩展结构，减少直接修改冲突。")])]),s._v(" "),a("h3",{attrs:{id:"_6-2-冲突解决步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-冲突解决步骤"}},[s._v("#")]),s._v(" 6.2 冲突解决步骤")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("识别冲突文件")]),s._v("：执行"),a("code",[s._v("git rebase")]),s._v("或"),a("code",[s._v("git merge")]),s._v("后，Git 会标记冲突文件（含"),a("code",[s._v("<<<<<<< HEAD")]),s._v("等标记）。")]),s._v(" "),a("li",[a("strong",[s._v("沟通确认")]),s._v("：找到冲突代码的作者，明确各自的修改意图，避免擅自覆盖。")]),s._v(" "),a("li",[a("strong",[s._v("手动解决")]),s._v("：编辑冲突文件，保留正确逻辑，删除冲突标记（"),a("code",[s._v("<<<<<<<")]),s._v("/"),a("code",[s._v("=======")]),s._v("/"),a("code",[s._v(">>>>>>>")]),s._v("）。")]),s._v(" "),a("li",[a("strong",[s._v("验证与提交")]),s._v("：解决后执行"),a("code",[s._v("git add <冲突文件>")]),s._v("，继续 rebase/merge 流程，确保代码可运行。")])]),s._v(" "),a("h3",{attrs:{id:"_6-3-冲突解决原则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-冲突解决原则"}},[s._v("#")]),s._v(" 6.3 冲突解决原则")]),s._v(" "),a("ul",[a("li",[s._v("以 “功能正确性” 为优先，而非 “谁的代码保留”。")]),s._v(" "),a("li",[s._v("复杂冲突（如架构层面）需团队同步讨论，达成共识后再修改。")])]),s._v(" "),a("h2",{attrs:{id:"_7-工具与自动化配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-工具与自动化配置"}},[s._v("#")]),s._v(" 7. 工具与自动化配置")]),s._v(" "),a("p",[s._v("通过工具强制规范执行，减少人工成本。")]),s._v(" "),a("h3",{attrs:{id:"_7-1-提交信息校验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-提交信息校验"}},[s._v("#")]),s._v(" 7.1 提交信息校验")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("使用"),a("code",[s._v("commitlint")]),s._v("+"),a("code",[s._v("husky")]),s._v("检查提交信息格式")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装依赖")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --save-dev @commitlint/cli @commitlint/config-conventional husky\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置commitlint规则（根目录创建commitlint.config.js）")]),s._v("\nmodule.exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" extends: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@commitlint/config-conventional'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置husky钩子（触发commit时校验）")]),s._v("\nnpx husky "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\nnpx husky "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" .husky/commit-msg "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'npx --no -- commitlint --edit $1'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_7-2-代码风格与质量检查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-代码风格与质量检查"}},[s._v("#")]),s._v(" 7.2 代码风格与质量检查")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("配置"),a("code",[s._v("pre-commit")]),s._v("钩子，提交前自动执行代码格式化（"),a("code",[s._v("prettier")]),s._v("）、lint（"),a("code",[s._v("eslint")]),s._v("）、单元测试：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx husky "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" .husky/pre-commit "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'npx lint-staged'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 仅检查暂存区文件")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置lint-staged（package.json）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*.{js,ts}"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --fix"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*.{json,md}"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"_7-3-分支保护与-ci-集成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-分支保护与-ci-集成"}},[s._v("#")]),s._v(" 7.3 分支保护与 CI 集成")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("在 GitLab/GitHub 中配置"),a("code",[s._v("main")]),s._v("/"),a("code",[s._v("develop")]),s._v("分支保护：")]),s._v(" "),a("ul",[a("li",[s._v("禁止直接推送")]),s._v(" "),a("li",[s._v("强制 PR 审查通过")]),s._v(" "),a("li",[s._v("强制 CI 检查通过（如编译、测试、代码覆盖率≥80%）")])])]),s._v(" "),a("li",[a("p",[s._v("CI 流程示例（"),a("code",[s._v(".gitlab-ci.yml")]),s._v("）：")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("stages")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" lint\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" test\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" build\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("lint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("stage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" lint\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" npm run lint\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("stage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" test\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" npm test\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("stage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" build\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" npm run build\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"_8-常见问题与解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-常见问题与解决方案"}},[s._v("#")]),s._v(" 8. 常见问题与解决方案")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("问题场景")]),s._v(" "),a("th",[s._v("解决方案")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("误提交敏感信息（如密钥）")]),s._v(" "),a("td",[s._v("1. 立即从代码中删除并替换密钥"),a("br"),s._v("2. 使用"),a("code",[s._v("git filter-branch")]),s._v("清除历史记录"),a("br"),s._v("3. 通知团队更新密钥")])]),s._v(" "),a("tr",[a("td",[s._v("提交后发现代码错误（未推送）")]),s._v(" "),a("td",[a("code",[s._v("git commit --amend")]),s._v(" 修正提交（仅修改最后一次提交）")])]),s._v(" "),a("tr",[a("td",[s._v("提交后发现代码错误（已推送）")]),s._v(" "),a("td",[s._v("新增一个修复提交（类型"),a("code",[s._v("fix")]),s._v("），不修改历史")])]),s._v(" "),a("tr",[a("td",[s._v("分支偏离"),a("code",[s._v("develop")]),s._v("过远，同步冲突多")]),s._v(" "),a("td",[s._v("先创建临时分支备份当前代码，重新从"),a("code",[s._v("develop")]),s._v("拉取并 cherry-pick 关键提交")])]),s._v(" "),a("tr",[a("td",[s._v("误删分支")]),s._v(" "),a("td",[s._v("从远程分支恢复："),a("code",[s._v("git checkout -b 分支名 origin/分支名")])])])])]),s._v(" "),a("h2",{attrs:{id:"_9-附则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-附则"}},[s._v("#")]),s._v(" 9. 附则")]),s._v(" "),a("ul",[a("li",[s._v("本规范自发布之日起执行，团队成员需在 1 周内熟悉并遵守。")]),s._v(" "),a("li",[s._v("每月团队会议需回顾规范执行情况，收集反馈并迭代优化。")]),s._v(" "),a("li",[s._v("违反规范导致严重问题（如生产故障、代码丢失），需团队内复盘并改进。")])]),s._v(" "),a("p",[a("strong",[s._v("附录")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("常用 Git 命令速查表（见文末附件）")]),s._v(" "),a("li",[s._v("PR 模板文件（"),a("code",[s._v(".github/PULL_REQUEST_TEMPLATE.md")]),s._v("）")]),s._v(" "),a("li",[s._v("提交信息模板（"),a("code",[s._v(".gitmessage")]),s._v("）")])]),s._v(" "),a("p",[s._v("通过严格执行本规范，团队可实现 “分支清晰、提交可追溯、协作高效、发布稳定” 的目标，为项目质量提供基础保障。")])])}),[],!1,null,null,null);t.default=n.exports}}]);