(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{665:function(n,t,s){"use strict";s.r(t);var e=s(8),a=Object(e.a)({},(function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("ul",[s("li",[s("p",[n._v("volatile：Java虚拟机提供轻量级同步机制")]),n._v(" "),s("ul",[s("li",[s("p",[n._v("保证可见性")]),n._v(" "),s("p",[n._v("JMM（Java内存模式）：抽象的概念，并不存在，描述的是一种规则和规范。规范：可见性、原子性、有序性")]),n._v(" "),s("p",[n._v("硬盘 < 内存 < CPU")]),n._v(" "),s("p",[n._v("主内存就是共享内存，线程工作内存，工作内存修改其他工作内存也可以看见，传值需要通过主内存，不能直接工作内存写入另外一个工作内存。修改第一时间通知其他线程就是内存可见性。")])]),n._v(" "),s("li",[s("p",[n._v("不保证原子性")]),n._v(" "),s("p",[n._v("number++，分为把变量拷贝到工作内存，然后再操作，操作完拷贝到主内存。")])]),n._v(" "),s("li",[s("p",[n._v("禁止指令重排序")]),n._v(" "),s("p",[n._v("源代码 -> 编译器优化的重排 -> 指令并行的重排 -> 内存系统的重排 -> 最终执行的指令")]),n._v(" "),s("p",[n._v("单线程结果一致。多线程数据依赖性。")]),n._v(" "),s("p",[n._v("Memory Barrier内存屏障（store指令，load指令），禁止指令重排序优化，强制刷出各种CPU的缓存数据")])])])]),n._v(" "),s("li",[s("p",[n._v("单例模式")]),n._v(" "),s("p",[n._v("DCL（Double check lock）")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("public static SingletomDemo() {\n\tif instance == null{\n\t\tsynchronized (SingleonDemo.class){\n\t\t\tif (instance == null){\n\t\t\t\tinstallce = new SingleonDemo();\n\t\t\t}\n\t\t}\n\t}\n\treturn instance\n}\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br")])]),s("p",[n._v("问题：变为null，instance可能没有完成初始化")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);